<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>Zseries统一样式</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<!--标准mui.css-->
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" href="../css/mui.picker.min.css" />
		<!--Zapp自定义的css-->
		<link rel="stylesheet" href="../css/z.app.css" />
	</head>

	<body>

		<!--侧滑菜单容器-->
		<div id="offCanvasWrapper" class="mui-off-canvas-wrap mui-draggable mui-slide-in">
			<!--菜单部分-->
			<!-- mui-off-canvas-left/mui-off-canvas-right -->
			<aside id="offCanvasSide" class="mui-off-canvas-left">
				<div id="offCanvasSideScroll" class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<div class="icon-center">
							<a id="icon-icon-contact zlink" zlink="#"><span class="mui-icon mui-icon-contact"></span></a>
						</div>
						<ul class="mui-table-view mui-table-view-chevron mui-table-view-inverted">
							<li class="mui-table-view-cell">
								<a class="mui-navigate-right zlink" zlink="#">
									schedule
								</a>
							</li>
							<li class="mui-table-view-cell">
							</li>
							<li class="mui-table-view-cell">
								<a class="mui-navigate-right showmsg" msg="更多功能敬请期待">
									more
								</a>
							</li>
							<li class="mui-table-view-cell">
								<a id="offCanvasHide" class="mui-navigate-right">
									close
								</a>
							</li>
						</ul>
					</div>
				</div>
			</aside>
			<div class="mui-inner-wrap">
				<!-- 浏览器效果 -->
				<header class="mui-bar mui-bar-nav zseries isn_wechat">
					<a id="offCanvasShow" class="mui-tab-item mui-pull-left" href="#more">
						<span class="mui-icon mui-icon-more"></span>
					</a>
					<a class="mui-tab-item mui-active" href="#tabbar_main">
						<span class="mui-title">Z·series</span>
					</a>
					<a class="mui-tab-item mui-pull-right" href="#tabbar-program">
						<span class="mui-icon mui-icon-bars"></span>
					</a>
				</header>

				<!-- 微信专享效果 -->
				<nav class="mui-bar mui-bar-tab zseries is_wechat">
					<a id="offCanvasToggle" class="mui-tab-item" href="#more">
						<span class="mui-icon mui-icon-more"></span>
					</a>
					<a class="mui-tab-item"></a>
					<a class="mui-tab-item mui-active" href="#tabbar_main">
						<span class="mui-tab-label">Z·series</span>
					</a>
					<a class="mui-tab-item"></a>
					<a class="mui-tab-item" href="#tabbar-program">
						<span class="mui-icon mui-icon-bars"></span>
					</a>
				</nav>
				<div id="offCanvasContentScroll" class="mui-content mui-scroll-wrapper">
					<div class="mui-content mui-scroll">
						<div id="tabbar_main" class="mui-control-content mui-active">
							<!--
								---------------------------------------------------------------
                            -->
                            <div id="z-calendar"></div>
							<!--
								---------------------------------------------------------------
                            -->
                            
						</div>
						<div id="tabbar-program" class="mui-control-content">
							<span class="mui-title">program</span>
						</div>
					</div>
				</div>
				<!-- off-canvas backdrop -->
				<div class="mui-off-canvas-backdrop"></div>
			</div>
		</div>
		<script src="../js/jquery/2.1.4.js"></script>

		<script src="../js/mui.min.js"></script>

		<script src="../js/z.app.js"></script>
		
		<script src="../js/mui.picker.min.js"></script>
			
		
		<script>			
			var sign_list = ['z-calendar-border-primary','z-calendar-border-primary','z-calendar-border-success','z-calendar-border-danger','z-calendar-border-danger','z-calendar-border-success'];
			var sign_start_date = new Date('2017/08/26');
			var sign_start_time = sign_start_date.getTime();
			zCalendar.create_calendar_html(10,2017);
			zCalendar.schedule_rendering(sign_list, sign_start_time);
			
			$(document).on('tap', '.z-calendar-icon', function(){
				zApp.toast("正在...",1);
				var now_time = $(".z-calendar-content").children("ul").eq(3).children("li").eq(3).attr("calendar-time");
				var now_date = new Date();
				now_date.setTime(now_time);
				
				if ($(event.target).attr('id') == 'z-calendar-minus') {
					var last_month_date = new Date(now_date.getFullYear(),now_date.getMonth(),0);
					zCalendar.month = last_month_date.getMonth();
					zCalendar.year = last_month_date.getFullYear();
					zCalendar.create_calendar_html();
					zCalendar.schedule_rendering(sign_list, sign_start_time);
				} else if ($(event.target).attr('id') == 'z-calendar-add') {
					var next_month_date = new Date(now_date.getFullYear(),now_date.getMonth(),32);
					zCalendar.month = next_month_date.getMonth();
					zCalendar.year = next_month_date.getFullYear();
					zCalendar.create_calendar_html();
					zCalendar.schedule_rendering(sign_list, sign_start_time);
				}
			})
			
			function z_calendar_update_month(result)
			{
				console.log(result);
			}
		</script>
		<script src="../js/z.mui.extends.end.js"></script>
	</body>

</html>